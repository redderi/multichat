# Multichat

***Multichat*** — это приложение для обмена сообщениями в локальной сети с поддержкой broadcast и multicast режимов. Оно предоставляет два интерфейса: терминальный (консольный) и графический (GUI, основанный на PySide6). Пользователи могут отправлять сообщения, управлять режимами чата (broadcast, multicast, shared), присоединяться к многоадресным группам, игнорировать хосты и просматривать списки участников.

### Основные возможности:

#### Режимы чата:

- Broadcast: отправка сообщений всем устройствам в подсети.
- Multicast: отправка сообщений участникам многоадресной группы.
- Shared: комбинация broadcast и multicast.


#### Команды:
- /h: Показать информацию о сети и доступные команды.
- /b, /m, /bm: Переключение между broadcast, multicast и shared режимами.
- /clear: Очистить чат.
- /exit: Завершить программу.
- /join_group, /leave_group: Присоединиться к или покинуть многоадресную группу.
- /ignore <IP>, /unignore <IP>: Игнорировать или перестать игнорировать хост.
- /peers_broadcast, /peers_multicast, /peers_ignore: Показать списки участников или игнорируемых хостов.


#### Интерфейсы:

- Терминальный: Использует библиотеку rich для форматированного вывода.
- Графический: Реализован на PySide6 с отображением участников, статусной строки и кнопок для команд.

#### Требования:

- Операционная система: Windows, macOS, Linux.
- Python: 3.8 или выше.

#### Зависимости:

- netifaces — для получения сетевых параметров.
- PySide6 — для графического интерфейса.
- rich — для форматированного вывода в терминале.

#### Установка:

- Клонируйте репозиторий:

```bash
git clone https://github.com/redderi/multichat.git
cd multichat
```

- Создайте виртуальное окружение (рекомендуется):

```bash
python -m venv venv
source venv/bin/activate  # Linux/macOS
venv\Scripts\activate     # Windows
```

- Установите зависимости:

```bash
pip install netifaces PySide6 rich
```

- Скомпилируйте UI-файл (для графического интерфейса):

```bash
pyside6-uic src/multichat/interface.ui -o src/multichat/ui_interface.py
```

#### Использование:

- Запуск терминального приложения

```bash
make run_t
```
или

```bash
python src/multichat/main.py terminal
```

Введите сообщения или команды (например, /h, /b, /m). Для выхода используйте /exit или Ctrl+C.

- Запуск графического приложения

```bash
make run_w
```
или

```bash
python src/multichat/main.py window
```
